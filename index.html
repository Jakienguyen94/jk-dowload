function renderBody() {
  const tbody = $("#tbody");
  tbody.innerHTML = "";

  const rows = getFilteredSortedRows();
  const total = rows.length;
  const pageSize = state.pageSize;
  const totalPages = Math.max(1, Math.ceil(total / pageSize));
  state.page = Math.min(state.page, totalPages);
  const start = (state.page - 1) * pageSize;
  const pageRows = rows.slice(start, start + pageSize);

  for (const r of pageRows) {
    const tr = document.createElement("tr");
    tr.className = "hover:bg-white/5 transition";

    for (const col of state.columns) {
      const td = document.createElement("td");
      td.className = "px-3 md:px-4 py-2 align-top text-sm text-slate-100/90";
      const val = r[col.key] ?? "";

      // üîΩ N·∫øu l√† c·ªôt link th√¨ render button
      if (/https?:\/\//.test(val)) {
        td.innerHTML = `
          <a href="${val}" target="_blank" 
             class="inline-flex items-center gap-1 px-3 py-1 rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white text-sm transition">
            <i data-lucide="download" class="w-4 h-4"></i>
            Download
          </a>
        `;
      } else {
        td.textContent = val;
      }

      tr.appendChild(td);
    }
    tbody.appendChild(tr);
  }

  $("#pageInfo").textContent = `${state.page} / ${totalPages}`;
  $("#prevPage").disabled = state.page <= 1;
  $("#nextPage").disabled = state.page >= totalPages;
  $("#statusText").textContent = `${total} d√≤ng, ${state.columns.length} c·ªôt`;

  // render l·∫°i icon lucide trong b·∫£ng
  window.lucide?.createIcons();
}
